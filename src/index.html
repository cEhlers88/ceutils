<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="../dev.js"></script>
        <script type="application/javascript">
            let counter = 0;
            window.addEventListener('DOMContentLoaded',()=>{
                let angleX = 0;
                let angleY = 0;
                let angleZ = 0;
                let angleXMove = 1;
                let angleYMove = 1;
                let angleZMove = 1;
                const canvas = document.getElementsByTagName('canvas')[0];
                const drawEngine = window.ceutils.canvasLib.getDrawEngineAnalyzed(canvas);
                drawEngine.setAnalyticListener((reason, props)=>{
                    //console.log(reason, props);
                });

                const draw = () => {
                    drawEngine
                        .start()
                        .cls()
                        .startDebug()
                        /*.cube3d({
                            x: 100,
                            y: 100,
                            width: 50,
                            height: 50,
                        },50, [45,0,45],'red',
                            [-1,-1,-1,'red',-1,-1,-1]
                        ,{
                            x: 0.5,
                            y: .5,
                            z: 0.5
                        })
                        .cube3d({
                            x: 300,
                            y: 100,
                            width: 50,
                            height: 50,
                        },50, [[45,0,45],[0,20,0]],'blue',
                            [-1,-1,-1,'blue',-1,-1,-1]
                        ,{
                            x: 0.5,
                            y: .5,
                            z: 0.5
                        })
                        .cube3d({
                            x: 500,
                            y: 100,
                            width: 50,
                            height: 50,
                        },50, [[45,0,45],[0,-70,0]],'red',
                            [-1,-1,-1,'gray',-1,-1,-1]
                        ,{
                            x: 0.5,
                            y: .5,
                            z: 0.5
                        })
                        .cube3d({
                            x: 600,
                            y: 100,
                            width: 50,
                            height: 50,
                        },50, [[45,0,45],[0,counter,0]],'black',
                          //  [-1,-1,-1,'gray',-1,-1,-1]
                            'red'
                        ,{
                            x: 0.5,
                            y: .5,
                            z: 0.5
                        })
                        .lines({x:125,y:50},[{x:125,y:200}],'green')
                        .lines({x:325,y:50},[{x:325,y:200}],'green')
                        .lines({x:525,y:50},[{x:525,y:200}],'green')
                        .lines({x:50,y:125},[{x:600,y:125}],'green')*/
                        .rectangle([200,50,1,1],'black','blue',45)
                        .rectangle([200,50,50,50],'red','red',[counter],[{x:0,y:0}])
                        .rectangle([200,50,50,50],'red','red',[45,counter],[{x:0.5,y:0.5},{x:-1,y:1}])
                        .rectangle([200,50,50,50],'red','red',[45, {x:counter,y:0}],[{x:0.5,y:0.5},{x:-1,y:1}])
                        .rectangle([200,50,50,50],'red','red',[45, {x:0,y:counter}],[{x:0.5,y:0.5},{x:-1,y:1}])
                        //.rectangle([200,50,50,50],'red','yellow',[counter])
                        //.rectangle([200,50,50,50],'red','green',[190,counter],{x:.0,y:-.5})
                        /*.rectangle([200,50,100,100],'black','blue', {x:200+counter,y:90-counter})*/
                        .hexagon({x:200,y:50},50,'red',-1,30)/*
                        .hexagon({x:200,y:50},100,'black',-1 ,counter)*/
                        .stopDebug()
                    ;
                }
                const update = () => {
                    counter += 1;
                    angleX += angleXMove;
                    angleY += angleYMove;
                    angleZ += angleZMove;
                    if(angleX > 500 || angleX < -500){
                        angleXMove *= -1;
                    }
                    if(angleY > 500 || angleY < -500){
                        angleYMove *= -1;
                    }
                    if(angleZ > 500 || angleZ < -500){
                        angleZMove *= -1;
                    }
                }

                const loop = () => {
                    update();
                    draw();
                    requestAnimationFrame(loop);
                }

                loop();
            });
        </script>
    </head>
    <body>
        <canvas width="1000" height="1000"></canvas>
    </body>
</html>